<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Пахомова Валерия Максимовна. РГЗ по WEB-программированию.</title>
    <link rel="stylesheet" href="main.css">
    <script>
        function stockPrice() {
            let table = document.getElementById('cors');
            let data = ['02-05-2023', '03-05-2023', '04-05-2023', '05-05-2023', '08-05-2023', '10-05-2023',
                    '11-05-2023', '12-05-2023', '15-05-2023', '16-05-2023', '17-05-2023', '18-05-2023',
                    '19-05-2023', '22-05-2023', '23-05-2023', '24-05-2023', '25-05-2023',
                    '29-05-2023', '30-05-2023', '31-05-2023'];
            let price = [0.231, 0.22, 0.219, 0.226, 0.2265, 0.2415, 0.24, 0.234, 0.235, 0.2345, 0.239,
                    0.244, 0.2565, 0.25, 0.245, 0.25, 0.2475, 0.246, 0.247, 0.2425];
            for (let i = 0; i < data.length; i++) {
            let trData = document.createElement('tr');
            let tdData = document.createElement('td');
            tdData.innerHTML = data[i];
            tdData.style.width = '120px';
            tdData.style.textAlign = 'center';
            let tdKyrs = document.createElement('td');
            tdKyrs.innerHTML = price[i];
            tdKyrs.style.width = '70px';
            tdKyrs.style.textAlign = 'center';
            trData.appendChild(tdData);
            trData.appendChild(tdKyrs);
            table.appendChild(trData);
            }
            let sum = 0;
            for (let i = 1; i < price.length; i++) {
                sum = sum + price[i];
            }
            let pokaz = sum / (price.length-1);
            let raz = [];
            for (let i = 1; i < price.length; i++) {
                raz.push(price[i] - pokaz);
            }
            let umn = [];
            for (let i = 0; i < raz.length; i++) {
                umn.push(raz[i] * raz[i]);
            }
            let pokaz1 = 0;
            for (let i = 0; i < umn.length; i++) {
                pokaz1 = pokaz1 + umn[i];
            }
            let pokaz2 = pokaz1 / umn.length;
            let m = Math.sqrt(pokaz2);
            document.getElementById('otclon').innerHTML = 'Среднеквадратическое отклонение цен: ' + m.toFixed(3);
            let max = price[0];
            for (let i = 1; i < price.length; i++) {
                if (price[i] > max) {
                    max = price[i];
                }
            }
            document.getElementById('maxs').innerHTML = 'Максимальное значение цены курса: ' + max;   
            let min = price[0];
            for (let i = 1; i < price.length; i++) {
                if (price[i] < min) {
                    min = price[i];
                }
            document.getElementById('mine').innerHTML = 'Минимальное значение цены курса: ' + min;
            }
        }
    </script>
</head>

<body>
    <header>
        <img src="kamenergo_logo.png" ait="ПАО Камчатскэнерго" span title="ПАО Камчатскэнерго">
        <hr>
    </header>

    <main>
        <div><h1 style="font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;"><b>Основные финансовые показатели</b></h1></div>
        <div class="menu">
            <ul>
                <li><a href="com.html" target="_blank">О компании</a></li>
                <li><a href="fin.html" target="_blank">Основные финансовые показатели</a></li>
                <li><a href="cont.html" target="_blank">Контантные данные</a></li>
                <li><a href="video.html" target="_blank">Видео</a></li>
            </ul>
        </div>
        <div>
            Капитализация на 30.04.2023: 12 040 424 472,154 ₽<br>
            Общее число акций: 48 929 719 834 шт.
        </div>
        <div>
            <h4 onclick="stockPrice()";>Курс акций компании</h4>
            <table border="1" id="cors"></table>
        </div>
        <div id="otclon"></div>
        <div id="maxs"></div>
        <div id="mine"></div>
        </main>

    <footer>
        <hr>
        <div><img src="contacts_icon.png" span title="ПАО Камчатскэнерго"></div>    
        <div>г. Петропавловск-Камчатский, ул. Набережная, 10.</div>
        <div >&copy; ПАО «Камчатскэнерго» 2006-2023</div>
        <div>Ну... я старалась</div>
    </footer>
</body>
</html>